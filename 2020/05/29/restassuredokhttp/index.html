<!DOCTYPE html><html lang="en"><head><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1"><meta charset="UTF-8"><title>API Testing using RestAssured and OkHttp. | Faisal Khatri</title><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="//cdn.bootcss.com/highlight.js/9.2.0/styles/github.min.css">
<link href="https://fonts.googleapis.com/css?family=Amatic+SC|Lato|Source+Sans+Pro&display=swap" rel="stylesheet"><!-- Global site tag (gtag.js) - Google Analytics--><script async="" src="https://www.googletagmanager.com/gtag/js?id=UA-168029981-1">   </script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-168029981-1');</script><!--Google Ad Sense Script--><script data-ad-client="ca-pub-3567405113571409" async="" src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><!--End of Google Ad Sense script--><!-- Start of Tawk.to Script--><script type="text/javascript">var Tawk_API=Tawk_API||{}, Tawk_LoadStart=new Date();
(function(){
var s1=document.createElement("script"),s0=document.getElementsByTagName("script")[0];
s1.async=true;
s1.src='https://embed.tawk.to/5c2368327a79fc1bddf2463e/default';
s1.charset='UTF-8';
s1.setAttribute('crossorigin','*');
s0.parentNode.insertBefore(s1,s0);
})();</script><!-- End of Tawk.to Script--><script type="text/javascript" src="https://platform-api.sharethis.com/js/sharethis.js#property=5c24c366f6809e0011a91fd0&amp;product=inline-share-buttons" async="async"></script><script type="text/javascript" src="https://platform-api.sharethis.com/js/sharethis.js#property=5c24c366f6809e0011a91fd0&amp;product=sticky-share-buttons" async="async"></script><meta name="generator" content="Hexo 5.4.0"></head><body><div id="layout-page"><nav id="layout-menu"><div class="other-page hide"><a href="/about">About</a><a href="/archives">Blogs</a></div><div class="responsive-pad"></div><div id="mega-head"><a href="/">Faisal Khatri</a></div><div class="layout-socialmedia hide"><a class="link-item main-link-item" title="Instagram" target="_blank" rel="noopener" href="https://www.instagram.com/iamfaisalkhatri/"><i class="iconfont icon-instagram"></i></a><a class="link-item main-link-item" title="Twitter" target="_blank" rel="noopener" href="https://twitter.com/mfaisal_khatri"><i class="iconfont icon-twitter"></i></a><a class="link-item main-link-item" title="GitHub" target="_blank" rel="noopener" href="https://github.com/mfaisalkhatri"><i class="iconfont icon-github"></i></a><a class="link-item main-link-item" title="Facebook" target="_blank" rel="noopener" href="https://www.facebook.com/faisal.khatri86"><i class="iconfont icon-facebook"></i></a><a class="link-item main-link-item" title="LinkedIn" target="_blank" rel="noopener" href="https://www.linkedin.com/in/faisalkhatri/"><i class="iconfont icon-linkedin"></i></a><a class="link-item main-link-item" title="YouTube" target="_blank" rel="noopener" href="https://www.youtube.com/channel/UCZ2Qyl9lCZdrFdzuMk3TLVQ"><i class="iconfont icon-youtube"></i></a></div><div class="responsive-bar" onclick="toggle(this)">≡</div></nav><div id="content"><article id="post"><h1>API Testing using RestAssured and OkHttp.</h1><time class="created-date" datetime="2020-05-29T07:36:31.000Z">2020-05-29</time><div class="sharethis-inline-share-buttons"></div><h2 id="What-is-REST-Assured"><a href="#What-is-REST-Assured" class="headerlink" title="What is REST-Assured?"></a>What is REST-Assured?</h2><p>REST Assured is a Java library that provides a domain-specific language (DSL) for writing powerful, maintainable tests for RESTful APIs.</p>
<h2 id="What-is-OkHttp"><a href="#What-is-OkHttp" class="headerlink" title="What is OkHttp?"></a>What is OkHttp?</h2><p>OkHTTP is an open source project designed to be an efficient HTTP client:</p>
<ul>
<li>HTTP/2 support allows all requests to the same host to share a socket.</li>
<li>Connection pooling reduces request latency (if HTTP/2 isn’t available).</li>
<li>Transparent GZIP shrinks download sizes.</li>
<li>Response caching avoids the network completely for repeat requests. </li>
</ul>
<h2 id="How-to-write-API-Tests-using-REST-Assured-OkHttp"><a href="#How-to-write-API-Tests-using-REST-Assured-OkHttp" class="headerlink" title="How to write API Tests using REST-Assured/ OkHttp?"></a>How to write API Tests using REST-Assured/ OkHttp?</h2><p>As many of you know that REST-Assured and OkHttp are currently in demand for writing automation tests for APIs. I was learning about Rest-Assured and OkHttp, an idea just popped into my mind, why not save the code on github so it would serve as a learning material for beginners.</p>
<p>Hence, I created and posted the code which I wrote, on github, in the following repository. It has API testing example codes for GET, POST, PUT, PATCH and DELETE requests using REST-Assured as well as OkHttp:</p>
<p><a target="_blank" rel="noopener" href="https://github.com/mfaisalkhatri/OkHttpRestAssuredExamples">OkHttpRestAssuredExamples</a></p>
<h2 id="REST-Assured-or-OkHttp"><a href="#REST-Assured-or-OkHttp" class="headerlink" title="REST-Assured or OkHttp?"></a>REST-Assured or OkHttp?</h2><p>Interesting question! While I was running the tests, I found an interesting thing which caught my attention. The execution speed of OkHttp when compared to Rest-assured was far better. </p>
<p><strong><em>The following image shows the Test execution time which a Get Request took:</em></strong></p>
<img src="/2020/05/29/restassuredokhttp/GetTests.png" class="" title="Results of Get Request Tests">

<p><em>“2.002 seconds”</em> was taken by OkHttp, however for executing the same API test using REST-assured, it took <em>“3.131 seconds”.</em> Similarly for running the next test, OkHttp took “0.124 seconds”, and REST-assured took <em>“0.372 seconds”.</em></p>
<p>Now, lets jump to execution time taken for <strong>Post</strong> Request.</p>
<p><strong><em>The following image shows the Test execution time which a Post Request took.</em></strong></p>
<img src="/2020/05/29/restassuredokhttp/PostTests.png" class="" title="Results of Post Request Tests">

<p><em>“2.252 seconds”</em> was taken by OkHttp, however for executing the same API test using REST-assured, it took <em>“4.521 seconds”.</em> Similarly for running the next test, OkHttp took “0.649 seconds”, and REST-assured took <em>“0.72 seconds”.</em></p>
<p>Going further, lets check execution time taken for <strong>Put</strong> Request.</p>
<p><strong><em>The following image shows the Test execution time which a Put Request took.</em></strong></p>
<img src="/2020/05/29/restassuredokhttp/PutTests.png" class="" title="Results of Put Request Tests">

<p><em>“5.226 seconds”</em> was taken by OkHttp, however for executing the same API test using REST-assured, it took <em>“8.008 seconds”.</em> Similarly for running the next test, OkHttp took “0.555 seconds”, and REST-assured took <em>“0.77 seconds”.</em></p>
<p>Lets have a look at the <strong>Patch</strong> requests execution time.</p>
<p><strong><em>The following image shows the Test execution time which a Patch Request took.</em></strong></p>
<img src="/2020/05/29/restassuredokhttp/PatchTests.png" class="" title="Results of Put Request Tests">

<p><em>“2.171 seconds”</em> was taken by OkHttp, however for executing the same API test using REST-assured, it took <em>“4.268 seconds”</em>. Similarly for running the next test, OkHttp took “0.623 seconds”, and REST-assured took <em>“0.683 seconds”.</em></p>
<p>Lets have a look at the <strong>Delete</strong> requests execution time.</p>
<p><strong><em>The following image shows the Test execution time which a Delete Request took.</em></strong></p>
<img src="/2020/05/29/restassuredokhttp/DeleteTests.png" class="" title="Results of Put Request Tests">


<p><em>“0.718 seconds”</em> was taken by OkHttp, however for executing the same API test using REST-assured, it took <em>“7.353 seconds”</em>.</p>
<p>Considering the facts written above, I can say that OkHttp is faster and better in terms of execution than REST-assured.</p>
<p>However, in terms of writing the tests, I enjoyed writing the tests using REST-Assured as it has the method chaining feature which allows to write tests efficiently and in one go. However, that is not the case with OkHttp. </p>
<p><strong>You can check the github link I have mentioned above to check how to write tests using REST-Assured and OkHttp.</strong></p>
<p>To conclude, I would mention that it all depends on the automation framework you choose for your test project, in my view, you should choose the one which you feel implementing and maintaining is easy. </p>
<p><em>For more details about OkHttp <a target="_blank" rel="noopener" href="https://square.github.io/okhttp/">click here</a></em><br><em>For more details about RestAssured  <a target="_blank" rel="noopener" href="http://rest-assured.io/">click here</a></em></p>
<div id="paginator"></div><div id="disqus_thread"><script>/**
*  RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
*  LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables*/
/*
var disqus_config = function () {
this.page.url = PAGE_URL;  // Replace PAGE_URL with your page's canonical URL variable
this.page.identifier = PAGE_IDENTIFIER; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
};
*/
(function() { // DON'T EDIT BELOW THIS LINE
var d = document, s = d.createElement('script');
s.src = 'https://mfaisalkhatri-github-io.disqus.com/embed.js';
s.setAttribute('data-timestamp', +new Date());
(d.head || d.body).appendChild(s);
})();</script><noscript><a target="_blank" rel="noopener" href="https://disqus.com/?ref_noscript"> </a></noscript></div></article></div><footer id="bottom"><span>© </span><span>Faisal Khatri</span><span>. Powered By </span><a target="_blank" rel="noopener" href="http://hexo.io"><span>HEXO</span></a><span>. Theme </span><a target="_blank" rel="noopener" href="https://github.com/lixuetaoleo/hexo-theme-leo">leo</a></footer></div><script src="/js/style.js"></script><script src="//cdn.bootcss.com/highlight.js/9.2.0/highlight.min.js"></script>
<script>hljs.initHighlightingOnLoad();</script></body></html>